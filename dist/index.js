"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("prop-types"),n=require("@mui/material"),o=require("@mui/material/styles"),r=require("@mui/icons-material");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=a(e),i=a(t),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;document.execCommand(e,!1,t)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=window.getSelection();if(t&&(n.removeAllRanges(),n.addRange(t)),n.isCollapsed){var o=document.createElement("a");o.href=e,o.textContent=e,o.target="_blank",o.rel="noopener noreferrer",t.insertNode(o),t.setStartAfter(o),t.setEndAfter(o),n.removeAllRanges(),n.addRange(t)}else{document.execCommand("createLink",!1,e),document.querySelectorAll('a[href="'+e+'"]').forEach(function(e){e.target="_blank",e.rel="noopener noreferrer"})}},d=function(){var e=window.getSelection();if(null==e||!e.anchorNode)return"p";for(var t=e.anchorNode.nodeType===Node.ELEMENT_NODE?e.anchorNode:e.anchorNode.parentElement;t;){var n,o=null===(n=t.tagName)||void 0===n?void 0:n.toUpperCase();if(["H1","H2","H3","H4","H5","H6","P","BLOCKQUOTE"].includes(o))return o.toLowerCase();if("LI"===o){var r=Array.from(t.childNodes).find(function(e){return e.nodeType===Node.ELEMENT_NODE&&["H1","H2","H3","H4","H5","H6","P"].includes(e.tagName)});return r?r.tagName.toLowerCase():"p"}t=t.parentElement}return"p"},s=function(e){return e?e.replace(/<\/?[^>]+(>|$)/g,"").length:0};function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a,l,i=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(o=a.call(n)).done)&&(i.push(o.value),i.length!==t);u=!0);}catch(e){c=!0,r=e}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x=function(t){var o=t.position,r=t.onSubmit,a=t.onClose,i=t.initialValue,u=void 0===i?"":i,c=t.isEdit,d=void 0!==c&&c,s=t.tooltipRef,f=t.storedRange,p=v(e.useState(u),2),m=p[0],g=p[1],x=e.useRef(null);e.useEffect(function(){g(u),setTimeout(function(){x.current&&"function"==typeof x.current.focus&&x.current.focus(),x.current&&"function"==typeof x.current.select&&x.current.select()},50)},[u]);return l.default.createElement(n.Paper,{elevation:4,ref:s,sx:{position:"absolute",left:o.x,top:o.y,transform:"translateX(-50%)",zIndex:1e3,p:2,minWidth:320,maxWidth:400}},l.default.createElement(n.Box,{component:"form",sx:{display:"flex",flexDirection:"column",gap:2}},l.default.createElement(n.Typography,{variant:"subtitle2",sx:{fontWeight:600}},d?"Edit Link":"Insert Link"),l.default.createElement(n.TextField,{inputRef:x,fullWidth:!0,size:"small",value:m,onChange:function(e){return g(e.target.value)},onKeyDown:function(e){"Escape"===e.key&&a()},placeholder:"Enter URL (e.g., https://example.com)",variant:"outlined"}),l.default.createElement(n.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.default.createElement(n.Box,{sx:{display:"flex",gap:1}},l.default.createElement(n.Button,{variant:"contained",size:"small",disabled:!m.trim(),sx:{textTransform:"none"},onClick:function(e){if(e.preventDefault(),m.trim()){var t=m.trim();t.match(/^https?:\/\//)||(t="https://"+t),r(t)}}},d?"Update":"Insert"),l.default.createElement(n.Button,{type:"button",variant:"outlined",size:"small",onClick:a,sx:{textTransform:"none"}},"Cancel")),d&&l.default.createElement(n.Button,{type:"button",variant:"contained",color:"error",size:"small",onClick:function(){if(f){var e=window.getSelection();e.removeAllRanges(),e.addRange(f)}document.execCommand("unlink"),a()},sx:{textTransform:"none"}},"Remove"))))};x.propTypes={position:i.default.shape({x:i.default.number.isRequired,y:i.default.number.isRequired}).isRequired,onSubmit:i.default.func.isRequired,onClose:i.default.func.isRequired,initialValue:i.default.string,isEdit:i.default.bool,tooltipRef:i.default.oneOfType([i.default.func,i.default.shape({current:i.default.any})]),storedRange:i.default.object},x.defaultProps={initialValue:"",isEdit:!1,tooltipRef:null,storedRange:null};var h={spacing0_5:"4px",spacing1:"8px"},b={small:"4px"},y={inputText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:400,lineHeight:"24px"}},k=o.styled(n.Box)({position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-start"}),C=o.styled(n.Box)({display:"flex",flexDirection:"column",alignItems:"flex-start",paddingLeft:h.spacing1,paddingRight:0,borderRadius:b.small,cursor:"pointer"}),E=o.styled(n.Box)({display:"flex",alignItems:"flex-end",justifyContent:"flex-end",gap:h.spacing0_5}),S=o.styled(n.Box)({display:"flex",alignItems:"flex-start",gap:h.spacing1,overflow:"hidden",padding:"".concat(h.spacing0_5," 0")}),R=o.styled("span")(function(e){var t=e.theme;return{fontFamily:y.inputText.fontFamily,fontSize:y.inputText.fontSize,fontWeight:y.inputText.fontWeight,lineHeight:y.inputText.lineHeight,color:t.palette.text.secondary,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}),T=o.styled(n.Box)({display:"flex",alignItems:"flex-end",justifyContent:"center",padding:"0 ".concat(h.spacing0_5)}),L=o.styled(n.Box)(function(e){var t=e.open;return{display:"flex",alignItems:"center",justifyContent:"center",height:"32px",padding:"".concat(h.spacing1," 0"),borderRadius:b.small,"& > div":{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:h.spacing0_5,borderRadius:b.small,overflow:"hidden",transition:"transform 0.2s ease",transform:t?"rotate(180deg)":"rotate(0deg)"}}}),B=function(t){var a=t.value,i=t.options,u=void 0===i?[]:i,c=t.onChange,d=t.placeholder,s=void 0===d?"Select...":d,f=t.disabled,p=void 0!==f&&f,m=t.sx,g=void 0===m?{}:m,x=o.useTheme(),h=v(e.useState(!1),2),B=h[0],w=h[1],F=e.useRef(null),H=u.find(function(e){return e.value===a}),I=(null==H?void 0:H.label)||s,O=function(){p||w(!0)},D=function(){w(!1)};return l.default.createElement(k,{sx:g},l.default.createElement(C,{ref:F,onClick:O,tabIndex:p?-1:0,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),O())},role:"combobox","aria-expanded":B,"aria-haspopup":"listbox",sx:{opacity:p?.5:1,pointerEvents:p?"none":"auto"}},l.default.createElement(E,null,l.default.createElement(S,null,l.default.createElement(R,null,I)),l.default.createElement(T,null,l.default.createElement(L,{open:B},l.default.createElement("div",null,l.default.createElement(r.ExpandMore,{sx:{fontSize:24,color:x.palette.text.secondary}})))))),l.default.createElement(n.Popover,{open:B,anchorEl:F.current,onClose:D,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},slotProps:{paper:{sx:{mt:.5,minWidth:200,borderRadius:b.small,backgroundColor:x.palette.background.paper,boxShadow:"0px 4px 16px rgba(29, 29, 43, 0.4)"}}}},l.default.createElement(n.Box,{sx:{py:"4px"}},u.map(function(e){return l.default.createElement(n.MenuItem,{key:e.value,onClick:function(){return t=e.value,c&&c({target:{value:t}}),void D();var t},selected:e.value===a,sx:{height:"28px",minHeight:"28px",minWidth:200,pl:"16px",pr:"12px",py:0,fontFamily:y.inputText.fontFamily,fontSize:y.inputText.fontSize,fontWeight:y.inputText.fontWeight,lineHeight:"16px",color:x.palette.text.secondary,"&.Mui-selected":{backgroundColor:x.palette.action.selected},"&.Mui-selected:hover":{backgroundColor:x.palette.action.hover},"&:hover":{backgroundColor:x.palette.action.hover}}},e.label)}))))};B.propTypes={value:i.default.oneOfType([i.default.string,i.default.number]),options:i.default.arrayOf(i.default.shape({value:i.default.oneOfType([i.default.string,i.default.number]).isRequired,label:i.default.string.isRequired})).isRequired,onChange:i.default.func,placeholder:i.default.string,disabled:i.default.bool,sx:i.default.object},B.defaultProps={value:void 0,onChange:void 0,placeholder:"Select...",disabled:!1,sx:{}};var w=function(e){var t=e.onFormat,a=e.showStrikethrough,i=void 0!==a&&a,u=e.showCleanFormat,c=void 0!==u&&u,d=e.currentBlockFormat,s=void 0===d?"p":d,f=e.currentInlineFormats,p=void 0===f?{}:f,m=o.useTheme(),g=[{command:"bold",icon:r.FormatBoldRounded,title:"Bold (Ctrl+B)",group:"text"},{command:"italic",icon:r.FormatItalicRounded,title:"Italic (Ctrl+I)",group:"text"},{command:"underline",icon:r.FormatUnderlined,title:"Underline (Ctrl+U)",group:"text"},i&&{command:"strikeThrough",icon:r.StrikethroughS,title:"Strikethrough (Ctrl+S)",group:"text"},{command:"createLink",icon:r.Link,title:"Insert Link (Ctrl+K)",group:"link"},c&&{command:"removeFormat",icon:r.FormatClear,title:"Remove Formatting (Ctrl+E)",group:"clean"}].filter(Boolean),v=[{command:"insertUnorderedList",label:"â€¢ List",group:"list",icon:r.FormatListBulletedRounded},{command:"insertOrderedList",label:"1. List",group:"list",icon:r.FormatListNumberedRounded}],x=[{command:"outdent",label:"Outdent",group:"indent",icon:r.FormatIndentDecreaseRounded},{command:"indent",label:"Indent",group:"indent",icon:r.FormatIndentIncreaseRounded}],h=function(e,n){t(e,n)};return l.default.createElement(n.Box,{sx:{p:"0.5rem 1rem",display:"flex",flexWrap:"wrap",alignItems:"center",gap:.5}},l.default.createElement(B,{value:s,options:[{command:"formatBlock",value:"h1",label:"Heading 1",group:"heading"},{command:"formatBlock",value:"h2",label:"Heading 2",group:"heading"},{command:"formatBlock",value:"h3",label:"Heading 3",group:"heading"},{command:"formatBlock",value:"h4",label:"Heading 4",group:"heading"},{command:"formatBlock",value:"h5",label:"Heading 5",group:"heading"},{command:"formatBlock",value:"h6",label:"Heading 6",group:"heading"},{command:"formatBlock",value:"p",label:"Paragraph",group:"heading"}].map(function(e){return{value:e.value,label:e.label}}),onChange:function(e){return n="formatBlock",o=e.target.value,void t(n,o);var n,o},sx:{minWidth:120}}),l.default.createElement(n.Divider,{orientation:"vertical",flexItem:!0,sx:{mx:1}}),l.default.createElement(n.Box,{sx:{display:"flex",alignItems:"center",gap:.5}},g.map(function(e){var t=e.command,o=e.icon,r=e.title,a=(null==p?void 0:p[t])||!1;return l.default.createElement(n.Tooltip,{key:t,title:r},l.default.createElement(n.IconButton,{onClick:function(){return h(t)},size:"small",sx:{borderRadius:"4px",color:a?m.palette.primary.main:m.palette.text.secondary,bgcolor:a?"action.selected":void 0,"&:hover":{bgcolor:m.palette.action.hover},"&:active":{bgcolor:m.palette.action.selected}}},l.default.createElement(o,{fontSize:"medium"})))})),l.default.createElement(n.Divider,{orientation:"vertical",flexItem:!0,sx:{mx:1}}),l.default.createElement(n.Box,{sx:{display:"flex",alignItems:"center",gap:.5}},v.map(function(e){var t=e.command,o=e.value,r=e.label,a=e.icon,i=!1;return"formatBlock"===t&&"blockquote"===o?i="blockquote"===s:"insertUnorderedList"===t?i=p.unorderedList:"insertOrderedList"===t&&(i=p.orderedList),l.default.createElement(n.Tooltip,{key:t,title:r},l.default.createElement(n.IconButton,{onClick:function(){return h(t)},size:"small",sx:{borderRadius:"4px",color:i?m.palette.primary.main:m.palette.text.secondary,bgcolor:i?"action.selected":void 0,"&:hover":{bgcolor:m.palette.action.hover},"&:active":{bgcolor:m.palette.action.selected}}},l.default.createElement(a,{fontSize:"medium"})))})),l.default.createElement(n.Divider,{orientation:"vertical",flexItem:!0,sx:{mx:1}}),l.default.createElement(n.Box,{sx:{display:"flex",alignItems:"center",gap:.5}},x.map(function(e){var t=e.command,o=e.label,r=e.icon,a=(null==p?void 0:p[t])||!1;return l.default.createElement(n.Tooltip,{key:t,title:o},l.default.createElement(n.IconButton,{onClick:function(){return h(t)},size:"small",sx:{borderRadius:"4px",color:a?m.palette.primary.main:m.palette.text.secondary,bgcolor:a?"action.selected":void 0,"&:hover":{bgcolor:m.palette.action.hover},"&:active":{bgcolor:m.palette.action.selected}}},l.default.createElement(r,{fontSize:"medium"})))})))};w.propTypes={onFormat:i.default.func.isRequired,showStrikethrough:i.default.bool,showCleanFormat:i.default.bool,currentBlockFormat:i.default.string,currentInlineFormats:i.default.shape({bold:i.default.bool,italic:i.default.bool,underline:i.default.bool,strikeThrough:i.default.bool,link:i.default.bool,unorderedList:i.default.bool,orderedList:i.default.bool})},w.defaultProps={showStrikethrough:!1,showCleanFormat:!1,currentBlockFormat:"p",currentInlineFormats:{}};var F={spacing1:"8px",spacing1_5:"12px"},H="4px",I={inputText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:400,lineHeight:"24px"},inputLabel:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:400,lineHeight:"16px"}},O=o.styled(n.Box)(function(e){var t=e.theme;return{padding:"".concat(F.spacing1," ").concat(F.spacing1_5),paddingTop:t.spacing(0),outline:"none",fontFamily:I.inputText.fontFamily,fontSize:I.inputText.fontSize,fontWeight:I.inputText.fontWeight,lineHeight:I.inputText.lineHeight,color:t.palette.text.primary,"& p":{margin:"".concat(t.spacing(1),"px 0"),"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0}},"& h1":{fontSize:"2rem",fontWeight:"bold",margin:"".concat(t.spacing(1.5),"px 0")},"& h2":{fontSize:"1.5rem",fontWeight:"bold",margin:"".concat(t.spacing(1),"px 0")},"& h3":{fontSize:"1.25rem",fontWeight:"bold",margin:"".concat(t.spacing(1),"px 0")},"& ul":{listStyle:"disc",paddingLeft:t.spacing(3),margin:"".concat(t.spacing(1),"px 0")},"& ol":{listStyle:"decimal",paddingLeft:t.spacing(3),margin:"".concat(t.spacing(1),"px 0")},"& li":{margin:"".concat(t.spacing(.5),"px 0")},"& blockquote":{borderLeft:"4px solid ".concat(t.palette.primary.main),paddingLeft:t.spacing(2),fontStyle:"italic",margin:"".concat(t.spacing(2),"px 0"),color:t.palette.text.secondary},"& a":{color:t.palette.primary.main,textDecoration:"underline","&:hover":{opacity:.8}},"& strong":{fontWeight:"bold"},"& em":{fontStyle:"italic"},"& u":{textDecoration:"underline"}}}),D=function(t){var r=t.name,a=void 0===r?"":r,i=t.value,f=void 0===i?"":i,p=t.onChange,m=void 0===p?function(){}:p,h=t.onBlur,b=t.placeholder,y=void 0===b?"Start typing...":b,k=t.maxChars,C=void 0===k?null:k,E=t.height,S=void 0===E?"auto":E,R=t.minHeight,T=void 0===R?"150px":R,L=t.maxHeight,B=void 0===L?null:L,D=t.sx,z=void 0===D?{}:D,j=t.style,q=o.useTheme();q.palette.mode;var A=e.useRef(null),W=e.useRef(null),P=e.useRef(null),N=v(e.useState(!1),2),M=N[0],_=N[1],U=v(e.useState({x:0,y:0}),2),K=U[0],V=U[1],$=v(e.useState(""),2),Q=$[0],X=$[1],Y=v(e.useState(C?s(f):null),2),G=Y[0],J=Y[1],Z=v(e.useState(!1),2),ee=Z[0],te=Z[1],ne=v(e.useState(null),2),oe=ne[0],re=ne[1],ae=v(e.useState(!1),2),le=ae[0],ie=ae[1],ue=v(e.useState("p"),2),ce=ue[0],de=ue[1],se=v(e.useState(function(){return!f||"<br>"===f||"<p><br></p>"===f}),2),fe=se[0],pe=se[1],me=v(e.useState({bold:!1,italic:!1,underline:!1,strikeThrough:!1,link:!1,unorderedList:!1,orderedList:!1}),2),ge=me[0],ve=me[1];e.useEffect(function(){A.current&&f!==A.current.innerHTML&&(A.current.innerHTML=f),pe(!f||"<br>"===f||"<p><br></p>"===f)},[f]);var xe=e.useCallback(function(){A.current&&de(d())},[]);e.useEffect(function(){xe()},[xe]);var he=e.useCallback(function(){if(A.current&&m){var e=A.current.innerHTML;if(C){var t=s(e);J(t)}pe(!e||"<br>"===e||"<p><br></p>"===e),m({target:{name:a,value:e}}),xe(),Ee()}},[m,a,C,xe,Ee]),be=e.useCallback(function(e,t){var n;if("createLink"!==e){if("removeFormat"===e)return document.execCommand("removeFormat",!1,null),void he();u(e,t),null===(n=A.current)||void 0===n||n.focus(),he(),xe(),Ee()}else{var o=window.getSelection();if(o&&!o.isCollapsed){var r,a=o.getRangeAt(0).cloneRange();re(a);var l=a.getBoundingClientRect(),i=null===(r=A.current)||void 0===r?void 0:r.getBoundingClientRect();i&&(V({x:l.left-i.left+l.width/2,y:l.bottom-i.top+5}),X(""),te(!1),_(!0))}else{var c=null==o?void 0:o.getRangeAt(0);if(c){var d;re(c.cloneRange());var s=c.getBoundingClientRect(),f=null===(d=A.current)||void 0===d?void 0:d.getBoundingClientRect();f&&(V({x:s.left-f.left,y:s.bottom-f.top+5}),X(""),te(!1),_(!0))}}}},[he,Ee,xe]),ye=e.useCallback(function(e){c(e,oe||void 0),_(!1),re(null),he()},[he,oe]),ke=e.useCallback(function(e){var t=e.target;if("A"===t.tagName){var n;e.preventDefault();var o=document.createRange();o.selectNode(t),re(o);var r=t.getBoundingClientRect(),a=null===(n=A.current)||void 0===n?void 0:n.getBoundingClientRect();a&&(V({x:r.left-a.left+r.width/2,y:r.bottom-a.top+5}),X(t.getAttribute("href")||""),te(!0),_(!0))}else _(!1)},[]),Ce=e.useCallback(function(e){if(e.ctrlKey||e.metaKey)switch(e.key){case"b":e.preventDefault(),be("bold");break;case"i":e.preventDefault(),be("italic");break;case"u":e.preventDefault(),be("underline");break;case"k":e.preventDefault(),be("createLink");break;case"s":e.preventDefault(),be("strikeThrough");break;case"e":e.preventDefault(),be("removeFormat");break;case"z":e.preventDefault(),be("undo");break;case"y":e.preventDefault(),be("redo");break;case"]":e.preventDefault(),be("indent");break;case"[":e.preventDefault(),be("outdent")}"Escape"===e.key&&(_(!1),re(null))},[be]),Ee=e.useCallback(function(){xe();var e=document.getSelection();e&&A.current&&A.current.contains(e.anchorNode)&&ve({bold:document.queryCommandState("bold"),italic:document.queryCommandState("italic"),underline:document.queryCommandState("underline"),strikeThrough:document.queryCommandState("strikeThrough"),link:document.queryCommandState("createLink"),unorderedList:document.queryCommandState("insertUnorderedList"),orderedList:document.queryCommandState("insertOrderedList")})},[xe]);return e.useEffect(function(){var e=function(){xe(),Ee()};return document.addEventListener("selectionchange",e),function(){document.removeEventListener("selectionchange",e)}},[xe,Ee]),l.default.createElement(n.Box,{ref:P,tabIndex:-1,sx:g({border:"1px solid ".concat(C&&G>C?q.palette.error.main:q.palette.primary.main),borderRadius:H,"&:focus-within":{borderColor:C&&G>C?q.palette.error.main:q.palette.primary.main},color:q.palette.text.primary,backgroundColor:q.palette.background.paper,fontFamily:I.inputText.fontFamily},z),style:j,onBlur:function(){var e,t,n=document.activeElement;null!==(e=P.current)&&void 0!==e&&e.contains(n)||(ie(!1),"function"==typeof h&&h({target:{value:null===(t=A.current)||void 0===t?void 0:t.innerHTML}}))}},l.default.createElement(w,{onFormat:be,showStrikethrough:!0,showCleanFormat:!0,currentBlockFormat:ce,currentInlineFormats:ge}),l.default.createElement(n.Box,{style:{position:"relative"}},l.default.createElement(O,{ref:A,contentEditable:!0,onFocus:function(){return ie(!0)},onInput:he,onClick:ke,onKeyDown:Ce,sx:{minHeight:T,height:S,maxHeight:B,overflowY:B?"auto":void 0},suppressContentEditableWarning:!0}),fe&&!le&&l.default.createElement(n.Box,{sx:{position:"absolute",top:F.spacing1,left:F.spacing1_5,color:q.palette.text.secondary,pointerEvents:"none",userSelect:"none",fontFamily:I.inputText.fontFamily,fontSize:I.inputText.fontSize,lineHeight:I.inputText.lineHeight}},y),M&&l.default.createElement(x,{position:K,onSubmit:ye,onClose:function(){_(!1),re(null)},initialValue:Q,isEdit:ee,tooltipRef:W,storedRange:oe}),C&&l.default.createElement(n.Box,{sx:{position:"absolute",bottom:"-1px",right:"11px",height:"2px",display:"flex",alignItems:"center",padding:"0 4px",background:q.palette.background.paper}},l.default.createElement(n.Box,{sx:{color:G>C?q.palette.error.main:q.palette.primary.main,fontFamily:I.inputLabel.fontFamily,fontSize:I.inputLabel.fontSize,fontWeight:I.inputLabel.fontWeight,lineHeight:I.inputLabel.lineHeight,whiteSpace:"nowrap"}},"".concat(G,"/").concat(C)))))};D.propTypes={name:i.default.string,value:i.default.string,onChange:i.default.func,onBlur:i.default.func,placeholder:i.default.string,maxChars:i.default.number,height:i.default.oneOfType([i.default.string,i.default.number]),minHeight:i.default.oneOfType([i.default.string,i.default.number]),maxHeight:i.default.oneOfType([i.default.string,i.default.number]),sx:i.default.object,style:i.default.object},D.defaultProps={name:"",value:"",onChange:function(){},onBlur:void 0,placeholder:"Start typing...",maxChars:null,height:"auto",minHeight:"150px",maxHeight:null,sx:{},style:void 0},exports.CustomSelect=B,exports.LinkTooltip=x,exports.RichTextEditor=D,exports.Toolbar=w,exports.applyFormatting=u,exports.cleanHTML=function(e){if(!e)return"";var t=document.createElement("div");return t.innerHTML=e,t.querySelectorAll("p:empty, div:empty").forEach(function(e){return e.remove()}),t.querySelectorAll("[style]").forEach(function(e){return e.removeAttribute("style")}),t.innerHTML},exports.countContentRealLength=s,exports.default=D,exports.getCurrentBlockFormat=d,exports.getSelectionInfo=function(){var e=window.getSelection();if(!e||0===e.rangeCount)return null;var t=e.getRangeAt(0);return{selection:e,range:t.cloneRange(),text:e.toString(),isCollapsed:e.isCollapsed}},exports.insertHTML=function(e){var t=window.getSelection();if(t.rangeCount>0){var n=t.getRangeAt(0);n.deleteContents();var o=document.createElement("div");o.innerHTML=e;for(var r=document.createDocumentFragment();o.firstChild;)r.appendChild(o.firstChild);n.insertNode(r),n.collapse(!1),t.removeAllRanges(),t.addRange(n)}},exports.insertLink=c,exports.isFormatActive=function(e){return document.queryCommandState(e)},exports.removeLink=function(){document.execCommand("unlink")};
//# sourceMappingURL=index.js.map
